# -*- coding: utf-8 -*-
"""Untitled7.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1-QWos-bqSCXwnOkdiGVlXGhPGm5DgXbV
"""

# Install streamlit library

# Then import the library as usual in the script.
import streamlit as st
from Bio import Entrez, SeqIO

# Configurar el email para Entrez
Entrez.email = "a223201128@unison.mx"

# Título de la aplicación
st.title("Obtener Secuencia de Aminoácidos de una Proteína")

# Entrada para el ID de la proteína
id_proteina = st.text_input("Ingresa el ID de la proteína (por ejemplo, NP_001278826.1):")

# Botón para ejecutar la búsqueda
if st.button("Obtener Secuencia"):
    if id_proteina:
        try:
            # Obtener los datos de la proteína en formato FASTA desde NCBI
            with Entrez.efetch(db="protein", id=id_proteina, rettype="fasta", retmode="text") as handle:
                record = SeqIO.read(handle, "fasta")
                secuencia_aminoacidos = record.seq

                # Mostrar los resultados
                st.subheader("Secuencia de Aminoácidos:")
                st.text(secuencia_aminoacidos)

                # Mostrar la longitud de la secuencia
                st.subheader("Longitud de la Secuencia:")
                st.write(f"{len(secuencia_aminoacidos)} aminoácidos")
        except Exception as e:
            st.error(f"Error al obtener la secuencia: {e}")
    else:
        st.warning("Por favor, ingresa un ID de proteína válido.")
